<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FoodSwipe Stylish</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-start min-h-screen p-4">

<h1 class="text-3xl font-extrabold mb-6 text-gray-800">FoodSwipe</h1>

<div id="deck" class="w-full max-w-md space-y-6"></div>

<div class="mt-6 flex space-x-4">
  <button id="dislikeBtn" class="bg-red-500 hover:bg-red-600 text-white px-5 py-3 rounded-full shadow-lg transition">Dislike</button>
  <button id="superLikeBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-5 py-3 rounded-full shadow-lg transition">Super Like</button>
  <button id="likeBtn" class="bg-green-500 hover:bg-green-600 text-white px-5 py-3 rounded-full shadow-lg transition">Like</button>
</div>

<script src="assets/foods.js"></script>
<script>
let currentIndex = 0;
let userSwipes = [];

const deckEl = document.getElementById('deck');
const likeBtn = document.getElementById('likeBtn');
const dislikeBtn = document.getElementById('dislikeBtn');
const superLikeBtn = document.getElementById('superLikeBtn');

function renderCard() {
  deckEl.innerHTML = '';
  if(currentIndex >= foods.length){
    deckEl.innerHTML = '<p class="text-center text-gray-500">No more foods!</p>';
    return;
  }

  const food = foods[currentIndex];
  const card = document.createElement('div');
  card.className = "bg-gradient-to-br from-white/80 to-gray-100/80 shadow-xl rounded-2xl p-5 hover:scale-105 transition-transform duration-200";

  card.innerHTML = `
    <img src="${food.image}" alt="${food.title}" class="w-full h-52 object-cover rounded-xl mb-4 shadow-inner">
    <h2 class="font-bold text-xl text-gray-800 mb-2">${food.title}</h2>
    <p class="text-sm text-gray-700 mb-2">${food.description.replace(/<[^>]+>/g, '')}</p>
    <div class="flex flex-wrap gap-2 mb-2">
      ${food.tags.map(t => `<span class="bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full text-xs">${t}</span>`).join('')}
      ${food.diet.map(d => `<span class="bg-green-200 text-green-800 px-2 py-1 rounded-full text-xs">${d}</span>`).join('')}
    </div>
    <p class="text-sm text-gray-600 mb-1"><strong>‚è± Ready in:</strong> ${food.readyInMinutes} mins | <strong>Servings:</strong> ${food.servings}</p>
    <p class="text-sm text-gray-600 mb-2"><strong>üíö Health Score:</strong> ${food.healthScore}</p>
    <a href="${food.link}" target="_blank" class="text-blue-600 underline text-sm">View Recipe</a>
  `;
  
  deckEl.appendChild(card);
}

function swipe(action){
  if(currentIndex >= foods.length) return;
  const food = foods[currentIndex];
  userSwipes.push({id: food.id, action, timestamp: new Date().toISOString()});
  currentIndex++;
  renderCard();
}

likeBtn.addEventListener('click', ()=>swipe('like'));
dislikeBtn.addEventListener('click', ()=>swipe('dislike'));
superLikeBtn.addEventListener('click', ()=>swipe('super-like'));

// Initial render
renderCard();
</script>
</body>
</html>
