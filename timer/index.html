<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Minimal Timer with Tailwind</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen transition-colors duration-300 select-none">

  <h1 class="text-4xl font-bold mb-8 text-gray-900">Timer</h1>

  <div class="flex space-x-4 mb-6">
    <div>
      <label class="block font-semibold mb-1" for="hours">Hours</label>
      <input type="number" id="hours" min="0" max="23" value="0" class="w-20 p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-center" />
    </div>
    <div>
      <label class="block font-semibold mb-1" for="minutes">Minutes</label>
      <input type="number" id="minutes" min="0" max="59" value="20" class="w-20 p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-center" />
    </div>
    <div>
      <label class="block font-semibold mb-1" for="seconds">Seconds</label>
      <input type="number" id="seconds" min="0" max="59" value="0" class="w-20 p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 text-center" />
    </div>
  </div>

  <div class="flex space-x-4 mb-6">
    <div>
      <label class="block font-semibold mb-1" for="orangeThreshold">Orange at (min)</label>
      <input type="number" id="orangeThreshold" min="0" max="999" value="5" class="w-20 p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-center" />
    </div>
    <div>
      <label class="block font-semibold mb-1" for="redThreshold">Red at (min)</label>
      <input type="number" id="redThreshold" min="0" max="999" value="1" class="w-20 p-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 text-center" />
    </div>
  </div>

  <div class="flex space-x-3 mb-6">
    <button data-minutes="5" class="quick-btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">5 min</button>
    <button data-minutes="10" class="quick-btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">10 min</button>
    <button data-minutes="20" class="quick-btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">20 min</button>
  </div>

<div class="timer-display text-9xl font-mono text-gray-900 mb-8 select-text">00:20:00</div>


  <div class="flex space-x-6">
    <button id="startBtn" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded font-semibold">Start</button>
    <button id="pauseBtn" class="bg-yellow-400 hover:bg-yellow-500 text-white px-6 py-3 rounded font-semibold disabled:opacity-50" disabled>Pause</button>
    <button id="resetBtn" class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded font-semibold" disabled>Reset</button>
  </div>

<script>
  const hoursInput = document.getElementById('hours');
  const minutesInput = document.getElementById('minutes');
  const secondsInput = document.getElementById('seconds');
  const orangeInput = document.getElementById('orangeThreshold');
  const redInput = document.getElementById('redThreshold');

  const quickButtons = document.querySelectorAll('.quick-btn');
  const timerDisplay = document.querySelector('.timer-display');

  const startBtn = document.getElementById('startBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const resetBtn = document.getElementById('resetBtn');

  let totalSeconds = 0;
  let remainingSeconds = 0;
  let timerInterval = null;
  let running = false;

  function formatTime(s) {
    const h = Math.floor(s / 3600);
    const m = Math.floor((s % 3600) / 60);
    const sec = s % 60;
    return [h, m, sec].map(v => v.toString().padStart(2,'0')).join(':');
  }

  function updateDisplay() {
    timerDisplay.textContent = formatTime(remainingSeconds);
  }

  function updateBackground() {
    const orangeThresholdSeconds = (parseInt(orangeInput.value) || 0) * 60;
    const redThresholdSeconds = (parseInt(redInput.value) || 0) * 60;

    if (remainingSeconds <= redThresholdSeconds && redThresholdSeconds > 0) {
      document.body.classList.remove('bg-orange-400', 'bg-gray-100');
      document.body.classList.add('bg-red-400');
    } else if (remainingSeconds <= orangeThresholdSeconds && orangeThresholdSeconds > 0) {
      document.body.classList.remove('bg-red-400', 'bg-gray-100');
      document.body.classList.add('bg-orange-400');
    } else {
      document.body.classList.remove('bg-red-400', 'bg-orange-400');
      document.body.classList.add('bg-gray-100');
    }
  }

  function setTimerFromInputs() {
    const h = Math.max(0, Math.min(23, parseInt(hoursInput.value) || 0));
    const m = Math.max(0, Math.min(59, parseInt(minutesInput.value) || 0));
    const s = Math.max(0, Math.min(59, parseInt(secondsInput.value) || 0));
    totalSeconds = h * 3600 + m * 60 + s;
    remainingSeconds = totalSeconds;
    updateDisplay();
    updateBackground();
  }

  function startTimer() {
    if (running || remainingSeconds <= 0) return;
    running = true;
    startBtn.disabled = true;
    pauseBtn.disabled = false;
    resetBtn.disabled = false;

    timerInterval = setInterval(() => {
      if (remainingSeconds > 0) {
        remainingSeconds--;
        updateDisplay();
        updateBackground();
      } else {
        clearInterval(timerInterval);
        running = false;
        startBtn.disabled = false;
        pauseBtn.disabled = true;
        resetBtn.disabled = false;
      }
    }, 1000);
  }

  function pauseTimer() {
    if (!running) return;
    clearInterval(timerInterval);
    running = false;
    startBtn.disabled = false;
    pauseBtn.disabled = true;
  }

  function resetTimer() {
    clearInterval(timerInterval);
    running = false;
    remainingSeconds = totalSeconds;
    updateDisplay();
    updateBackground();
    startBtn.disabled = false;
    pauseBtn.disabled = true;
    resetBtn.disabled = true;
  }

  // Quick buttons set timer to minutes and reset inputs/display
  quickButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      if (running) pauseTimer();
      const mins = parseInt(btn.dataset.minutes);
      hoursInput.value = 0;
      minutesInput.value = mins;
      secondsInput.value = 0;
      setTimerFromInputs();
      resetBtn.disabled = true;
      pauseBtn.disabled = true;
      startBtn.disabled = false;
    });
  });

  // Update timer on manual input changes (only if not running)
[hoursInput, minutesInput, secondsInput].forEach(input => {
  input.addEventListener('input', () => {
    if (!running) {
      setTimerFromInputs();

      if (totalSeconds > 0) {
        startBtn.disabled = false;
      } else {
        startBtn.disabled = true;
      }
      resetBtn.disabled = true;
      pauseBtn.disabled = true;
    }
  });
});


  // On page load set timer from default inputs
  setTimerFromInputs();

  // Button event handlers
  startBtn.addEventListener('click', startTimer);
  pauseBtn.addEventListener('click', pauseTimer);
  resetBtn.addEventListener('click', resetTimer);
</script>

</body>
</html>
